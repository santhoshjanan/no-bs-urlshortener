!function(){"use strict";const t={createLiveRegion(){if(!document.getElementById("vb-live-region")){const t=document.createElement("div");t.id="vb-live-region",t.className="vb-sr-only",t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),document.body.appendChild(t)}return document.getElementById("vb-live-region")},announce(t,e="polite"){const s=this.createLiveRegion();s.setAttribute("aria-live",e),s.textContent=t,setTimeout(()=>{s.textContent=""},1e3)},trapFocus(t){const e=t.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])');if(0===e.length)return null;const s=e[0],i=e[e.length-1],n=t=>{"Tab"===t.key&&(t.shiftKey&&document.activeElement===s?(t.preventDefault(),i.focus()):t.shiftKey||document.activeElement!==i||(t.preventDefault(),s.focus()))};return t.addEventListener("keydown",n),s.focus(),()=>t.removeEventListener("keydown",n)}};class e{constructor(t){this.modal=t,this.closeButtons=this.modal.querySelectorAll(".vb-modal-close, [data-vb-modal-close]"),this.previousActiveElement=null,this.focusTrapCleanup=null,this.escHandler=this.handleEscape.bind(this),this.clickHandler=this.handleBackdropClick.bind(this),this.closeHandler=this.close.bind(this),this.init()}init(){if(this.modal.setAttribute("role","dialog"),this.modal.setAttribute("aria-modal","true"),!this.modal.getAttribute("aria-labelledby")){const t=this.modal.querySelector(".vb-modal-title");t&&!t.id&&(t.id=`modal-title-${Math.random().toString(36).slice(2,11)}`),t&&this.modal.setAttribute("aria-labelledby",t.id)}this.closeButtons.forEach(t=>{t.setAttribute("aria-label","Close dialog"),t.addEventListener("click",this.closeHandler)}),this.modal.addEventListener("click",this.clickHandler)}destroy(){this.closeButtons.forEach(t=>{t.removeEventListener("click",this.closeHandler)}),this.modal.removeEventListener("click",this.clickHandler),document.removeEventListener("keydown",this.escHandler),this.focusTrapCleanup&&(this.focusTrapCleanup(),this.focusTrapCleanup=null)}handleBackdropClick(t){t.target===this.modal&&this.close()}handleEscape(t){"Escape"===t.key&&this.modal.classList.contains("active")&&this.close()}open(){this.previousActiveElement=document.activeElement,this.modal.classList.add("active"),document.body.style.overflow="hidden",this.focusTrapCleanup=t.trapFocus(this.modal),document.addEventListener("keydown",this.escHandler),t.announce("Dialog opened")}close(){this.modal.classList.remove("active"),document.body.style.overflow="",this.focusTrapCleanup&&(this.focusTrapCleanup(),this.focusTrapCleanup=null),document.removeEventListener("keydown",this.escHandler),this.previousActiveElement&&this.previousActiveElement.focus(),t.announce("Dialog closed")}}const s={};document.querySelectorAll(".vb-modal").forEach(t=>{const i=t.id;i&&(s[i]=new e(t))}),document.querySelectorAll("[data-vb-modal-target]").forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.vbModalTarget;s[e]&&s[e].open()})});class i{constructor(t){this.navbar=t,this.toggle=t.querySelector(".vb-navbar-toggle"),this.menu=t.querySelector(".vb-navbar-menu"),this.escHandler=this.handleEscape.bind(this),this.toggleHandler=this.toggleMenu.bind(this),this.toggle&&this.menu&&this.init()}init(){this.toggle.setAttribute("aria-label","Toggle navigation menu"),this.toggle.setAttribute("aria-expanded","false"),this.toggle.setAttribute("aria-controls",this.menu.id||"navbar-menu"),this.menu.id||(this.menu.id="navbar-menu"),this.toggle.addEventListener("click",this.toggleHandler),document.addEventListener("keydown",this.escHandler)}destroy(){this.toggle&&this.toggle.removeEventListener("click",this.toggleHandler),document.removeEventListener("keydown",this.escHandler)}handleEscape(t){"Escape"===t.key&&this.menu.classList.contains("active")&&(this.closeMenu(),this.toggle.focus())}toggleMenu(){const e=this.menu.classList.toggle("active");this.toggle.classList.toggle("active"),this.toggle.setAttribute("aria-expanded",e),t.announce(e?"Menu opened":"Menu closed")}closeMenu(){this.menu.classList.remove("active"),this.toggle.classList.remove("active"),this.toggle.setAttribute("aria-expanded","false")}}const n=[];document.querySelectorAll(".vb-navbar").forEach(t=>{n.push(new i(t))});class r{constructor(t){this.dropdown=t,this.toggle=this.dropdown.querySelector(".vb-dropdown-toggle"),this.menu=this.dropdown.querySelector(".vb-dropdown-menu"),this.toggle&&this.menu?(this.items=this.menu.querySelectorAll(".vb-dropdown-item"),this.outsideClickHandler=this.handleOutsideClick.bind(this),this.init()):console.warn("Vibe Brutalism: Dropdown requires .vb-dropdown-toggle and .vb-dropdown-menu")}init(){this.toggle.setAttribute("aria-haspopup","true"),this.toggle.setAttribute("aria-expanded","false"),this.menu.setAttribute("role","menu"),this.items.forEach(t=>{t.setAttribute("role","menuitem"),t.setAttribute("tabindex","-1")}),this.toggle.addEventListener("click",t=>{t.stopPropagation(),this.toggleDropdown()}),this.toggle.addEventListener("keydown",t=>{"ArrowDown"!==t.key&&"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.open(),this.items[0]?.focus())}),this.items.forEach((t,e)=>{t.addEventListener("keydown",t=>{"ArrowDown"===t.key?(t.preventDefault(),this.items[(e+1)%this.items.length]?.focus()):"ArrowUp"===t.key?(t.preventDefault(),this.items[(e-1+this.items.length)%this.items.length]?.focus()):"Escape"===t.key&&(t.preventDefault(),this.close(),this.toggle.focus())})}),this.menu.addEventListener("click",t=>{t.stopPropagation()})}handleOutsideClick(){this.close()}toggleDropdown(){const t=this.dropdown.classList.toggle("active");this.toggle.setAttribute("aria-expanded",t),t?(this.items.forEach(t=>t.setAttribute("tabindex","0")),setTimeout(()=>{document.addEventListener("click",this.outsideClickHandler)},0)):(this.items.forEach(t=>t.setAttribute("tabindex","-1")),document.removeEventListener("click",this.outsideClickHandler))}open(){this.dropdown.classList.add("active"),this.toggle.setAttribute("aria-expanded","true"),this.items.forEach(t=>t.setAttribute("tabindex","0")),setTimeout(()=>{document.addEventListener("click",this.outsideClickHandler)},0)}close(){this.dropdown.classList.remove("active"),this.toggle.setAttribute("aria-expanded","false"),this.items.forEach(t=>t.setAttribute("tabindex","-1")),document.removeEventListener("click",this.outsideClickHandler)}}document.querySelectorAll(".vb-dropdown").forEach(t=>{new r(t)});class o{constructor(t){this.tabs=t,this.buttons=this.tabs.querySelectorAll(".vb-tab-button"),this.contents=this.tabs.querySelectorAll(".vb-tab-content"),this.init()}init(){const t=this.tabs.querySelector(".vb-tab-list");t&&t.setAttribute("role","tablist"),this.buttons.forEach((t,e)=>{const s=`tab-${Math.random().toString(36).slice(2,11)}`,i=`panel-${Math.random().toString(36).slice(2,11)}`;t.setAttribute("role","tab"),t.setAttribute("id",s),t.setAttribute("aria-controls",i),t.setAttribute("tabindex","-1"),this.contents[e].setAttribute("role","tabpanel"),this.contents[e].setAttribute("id",i),this.contents[e].setAttribute("aria-labelledby",s),this.contents[e].setAttribute("tabindex","0"),t.addEventListener("click",()=>{this.switchTab(e)}),t.addEventListener("keydown",t=>{let s=e;"ArrowRight"===t.key||"ArrowDown"===t.key?(t.preventDefault(),s=(e+1)%this.buttons.length):"ArrowLeft"===t.key||"ArrowUp"===t.key?(t.preventDefault(),s=(e-1+this.buttons.length)%this.buttons.length):"Home"===t.key?(t.preventDefault(),s=0):"End"===t.key&&(t.preventDefault(),s=this.buttons.length-1),s!==e&&(this.switchTab(s),this.buttons[s].focus())})}),this.buttons.length>0&&!this.tabs.querySelector(".vb-tab-button.active")&&this.switchTab(0)}switchTab(e){this.buttons.forEach((t,e)=>{t.classList.remove("active"),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1")}),this.contents.forEach(t=>{t.classList.remove("active")}),this.buttons[e].classList.add("active"),this.buttons[e].setAttribute("aria-selected","true"),this.buttons[e].setAttribute("tabindex","0"),this.contents[e].classList.add("active"),t.announce(`Tab ${e+1} selected`)}}document.querySelectorAll(".vb-tabs").forEach(t=>{new o(t)});class a{constructor(t){this.accordion=t,this.items=this.accordion.querySelectorAll(".vb-accordion-item"),this.headers=[],this.bodies=[],this.init()}init(){this.items.forEach((t,e)=>{const s=t.querySelector(".vb-accordion-header"),i=t.querySelector(".vb-accordion-body");this.headers.push(s),this.bodies.push(i);const n=`accordion-header-${Math.random().toString(36).slice(2,11)}`,r=`accordion-body-${Math.random().toString(36).slice(2,11)}`;s.setAttribute("id",n),s.setAttribute("aria-expanded","false"),s.setAttribute("aria-controls",r),i.setAttribute("id",r),i.setAttribute("role","region"),i.setAttribute("aria-labelledby",n),s.addEventListener("click",()=>{this.toggle(s,i)}),s.addEventListener("keydown",t=>{"ArrowDown"===t.key?(t.preventDefault(),this.headers[e+1]?.focus()):"ArrowUp"===t.key?(t.preventDefault(),this.headers[e-1]?.focus()):"Home"===t.key?(t.preventDefault(),this.headers[0]?.focus()):"End"===t.key&&(t.preventDefault(),this.headers[this.headers.length-1]?.focus())})})}toggle(e,s){const i=e.classList.contains("active");this.headers.forEach(t=>{t.classList.remove("active"),t.setAttribute("aria-expanded","false")}),this.bodies.forEach(t=>{t.classList.remove("active")}),i?t.announce("Section collapsed"):(e.classList.add("active"),e.setAttribute("aria-expanded","true"),s.classList.add("active"),t.announce("Section expanded"))}}document.querySelectorAll(".vb-accordion").forEach(t=>{new a(t)});class l{constructor(t){this.carousel=t,this.track=this.carousel.querySelector(".vb-carousel-track"),this.items=this.carousel.querySelectorAll(".vb-carousel-item"),this.prevBtn=this.carousel.querySelector(".vb-carousel-control-prev"),this.nextBtn=this.carousel.querySelector(".vb-carousel-control-next"),this.indicators=this.carousel.querySelectorAll(".vb-carousel-indicator"),this.currentIndex=0,this.autoplayInterval=null,this.touchStartX=0,this.touchEndX=0,this.prevHandler=()=>this.prev(),this.nextHandler=()=>this.next(),this.keydownHandler=t=>this.handleKeydown(t),this.mouseenterHandler=()=>this.pauseAutoplay(),this.mouseleaveHandler=()=>this.startAutoplay(),this.focusinHandler=()=>this.pauseAutoplay(),this.focusoutHandler=()=>this.startAutoplay(),this.touchstartHandler=t=>{this.touchStartX=t.changedTouches[0].screenX},this.touchendHandler=t=>{this.touchEndX=t.changedTouches[0].screenX,this.handleSwipe()},this.init()}handleKeydown(t){"ArrowLeft"===t.key?(t.preventDefault(),this.prev()):"ArrowRight"===t.key&&(t.preventDefault(),this.next())}init(){0!==this.items.length&&this.track?(this.carousel.setAttribute("role","region"),this.carousel.setAttribute("aria-label","Carousel"),this.carousel.setAttribute("aria-roledescription","carousel"),this.items.forEach((t,e)=>{t.setAttribute("role","group"),t.setAttribute("aria-roledescription","slide"),t.setAttribute("aria-label",`Slide ${e+1} of ${this.items.length}`)}),this.indicatorHandlers=[],this.prevBtn&&(this.prevBtn.setAttribute("aria-label","Previous slide"),this.prevBtn.addEventListener("click",this.prevHandler)),this.nextBtn&&(this.nextBtn.setAttribute("aria-label","Next slide"),this.nextBtn.addEventListener("click",this.nextHandler)),this.indicators.forEach((t,e)=>{t.setAttribute("aria-label",`Go to slide ${e+1}`),t.setAttribute("role","button");const s=()=>this.goTo(e);this.indicatorHandlers.push(s),t.addEventListener("click",s)}),this.carousel.addEventListener("keydown",this.keydownHandler),this.carousel.addEventListener("mouseenter",this.mouseenterHandler),this.carousel.addEventListener("mouseleave",this.mouseleaveHandler),this.carousel.addEventListener("focusin",this.focusinHandler),this.carousel.addEventListener("focusout",this.focusoutHandler),this.carousel.addEventListener("touchstart",this.touchstartHandler,{passive:!0}),this.carousel.addEventListener("touchend",this.touchendHandler,{passive:!0}),this.goTo(0),"true"===this.carousel.dataset.autoplay&&this.startAutoplay()):console.warn("Vibe Brutalism: Carousel requires .vb-carousel-track and at least one .vb-carousel-item")}handleSwipe(){const t=this.touchStartX-this.touchEndX;Math.abs(t)>50&&(t>0?this.next():this.prev())}goTo(e){this.currentIndex=e;const s=100*-e;this.track.style.transform=`translateX(${s}%)`,this.indicators.forEach((t,s)=>{t.classList.toggle("active",s===e),t.setAttribute("aria-current",s===e?"true":"false")}),this.items.forEach((t,s)=>{t.setAttribute("aria-hidden",s!==e)}),t.announce(`Slide ${e+1} of ${this.items.length}`)}next(){const t=(this.currentIndex+1)%this.items.length;this.goTo(t)}prev(){const t=(this.currentIndex-1+this.items.length)%this.items.length;this.goTo(t)}startAutoplay(){const t=parseInt(this.carousel.dataset.interval)||5e3;this.autoplayInterval=setInterval(()=>this.next(),t)}pauseAutoplay(){this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=null)}destroy(){this.pauseAutoplay(),this.prevBtn&&this.prevBtn.removeEventListener("click",this.prevHandler),this.nextBtn&&this.nextBtn.removeEventListener("click",this.nextHandler),this.indicators.forEach((t,e)=>{this.indicatorHandlers[e]&&t.removeEventListener("click",this.indicatorHandlers[e])}),this.carousel.removeEventListener("keydown",this.keydownHandler),this.carousel.removeEventListener("mouseenter",this.mouseenterHandler),this.carousel.removeEventListener("mouseleave",this.mouseleaveHandler),this.carousel.removeEventListener("focusin",this.focusinHandler),this.carousel.removeEventListener("focusout",this.focusoutHandler),this.carousel.removeEventListener("touchstart",this.touchstartHandler),this.carousel.removeEventListener("touchend",this.touchendHandler)}}const c={};document.querySelectorAll(".vb-carousel").forEach(t=>{const e=t.id||`carousel-${Math.random().toString(36).slice(2,11)}`;t.id=e,c[e]=new l(t)});const d=new class{constructor(){this.container=null,this.toasts=[]}getContainer(t="top-right"){const e=`vb-toast-container-${t}`;let s=document.getElementById(e);return s||(s=document.createElement("div"),s.id=e,s.className=`vb-toast-container ${t}`,s.setAttribute("aria-live","polite"),s.setAttribute("aria-atomic","false"),document.body.appendChild(s)),s}show(e,s="info",i=5e3,n="top-right"){if("string"!=typeof e||""===e.trim())return console.error("Vibe Brutalism: Toast message must be a non-empty string"),null;if(i<0)return console.error("Vibe Brutalism: Toast duration must be non-negative"),null;const r=["success","warning","danger","info"].includes(s)?s:"info",o=["top-right","top-left","top-center","bottom-right","bottom-left"].includes(n)?n:"top-right",a=this.getContainer(o),l=document.createElement("div");l.className=`vb-toast vb-toast-${r}`,l.setAttribute("role","status"),l.setAttribute("aria-live","polite");const c={success:"âœ“",warning:"âš ",danger:"âœ•",info:"â„¹"},d=document.createElement("span");d.className="vb-toast-icon",d.setAttribute("aria-hidden","true"),d.textContent=c[r]||c.info;const u=document.createElement("div");u.className="vb-toast-content",u.textContent=e;const h=document.createElement("button");return h.className="vb-toast-close",h.setAttribute("aria-label","Close notification"),h.textContent="Ã—",l.appendChild(d),l.appendChild(u),l.appendChild(h),h.addEventListener("click",()=>this.remove(l)),a.appendChild(l),this.toasts.push(l),t.announce(e,"polite"),i>0&&setTimeout(()=>this.remove(l),i),l}remove(t){t.classList.add("removing"),setTimeout(()=>{t.remove();const e=this.toasts.indexOf(t);e>-1&&this.toasts.splice(e,1)},300)}};const u=new class{constructor(){this.snackbar=null,this.timeout=null}show(e,s=null,i=null,n=5e3){if("string"!=typeof e||""===e.trim())return void console.error("Vibe Brutalism: Snackbar message must be a non-empty string");if(s&&"string"!=typeof s)return void console.error("Vibe Brutalism: Snackbar actionText must be a string");if(i&&"function"!=typeof i)return void console.error("Vibe Brutalism: Snackbar actionCallback must be a function");if(n<0)return void console.error("Vibe Brutalism: Snackbar duration must be non-negative");this.snackbar&&this.hide(),this.snackbar=document.createElement("div"),this.snackbar.className="vb-snackbar",this.snackbar.setAttribute("role","status"),this.snackbar.setAttribute("aria-live","polite");const r=document.createElement("div");if(r.className="vb-snackbar-message",r.textContent=e,this.snackbar.appendChild(r),s&&i){const t=document.createElement("button");t.className="vb-snackbar-action",t.textContent=s,t.addEventListener("click",()=>{i(),this.hide()}),this.snackbar.appendChild(t)}const o=document.createElement("button");o.className="vb-snackbar-close",o.setAttribute("aria-label","Close"),o.textContent="Ã—",o.addEventListener("click",()=>this.hide()),this.snackbar.appendChild(o),document.body.appendChild(this.snackbar),setTimeout(()=>{this.snackbar.classList.add("show")},10),t.announce(e,"polite"),n>0&&(this.timeout=setTimeout(()=>this.hide(),n))}hide(){this.snackbar&&(this.snackbar.classList.remove("show"),setTimeout(()=>{this.snackbar?.remove(),this.snackbar=null},300)),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}};document.querySelectorAll("[data-vb-alert-close]").forEach(t=>{t.addEventListener("click",()=>{const e=t.closest(".vb-alert");e&&(e.style.opacity="0",setTimeout(()=>{e.remove()},300))})}),window.VBSetProgress=function(e,s){if("string"!=typeof e||""===e.trim())return console.error("Vibe Brutalism: VBSetProgress elementId must be a non-empty string"),!1;if("number"!=typeof s||isNaN(s))return console.error("Vibe Brutalism: VBSetProgress percentage must be a number"),!1;if(s<0||s>100)return console.error("Vibe Brutalism: VBSetProgress percentage must be between 0 and 100"),!1;try{const i=document.querySelector(`#${CSS.escape(e)} .vb-progress-bar`);return i?(i.style.width=`${s}%`,i.textContent=`${s}%`,i.setAttribute("aria-valuenow",s),t.announce(`Progress: ${s}%`),!0):(console.warn(`Vibe Brutalism: Progress bar not found for element ID "${e}"`),!1)}catch(t){return console.error("Vibe Brutalism: Error setting progress:",t),!1}},window.VBValidateForm=function(e){if(!(e&&e instanceof HTMLElement))return console.error("Vibe Brutalism: VBValidateForm requires a valid HTML element"),!1;try{const s=e.querySelectorAll(".vb-input[required], .vb-textarea[required]");let i=!0;return s.forEach(e=>{let s=e.nextElementSibling;s&&s.classList.contains("vb-form-error")||(s=document.createElement("div"),s.className="vb-form-error vb-sr-only",s.setAttribute("role","alert"),e.parentNode.insertBefore(s,e.nextSibling));const n=e.getAttribute("name")||e.getAttribute("id")||"This field";e.value.trim()?(e.style.borderColor="var(--vb-black)",e.setAttribute("aria-invalid","false"),s.textContent="",e.removeAttribute("aria-describedby")):(e.style.borderColor="var(--vb-danger)",e.setAttribute("aria-invalid","true"),s.textContent=`${n} is required`,s.id=s.id||`error-${Math.random().toString(36).slice(2,11)}`,e.setAttribute("aria-describedby",s.id),i=!1,t.announce(`${n} is required`,"assertive"))}),i}catch(t){return console.error("Vibe Brutalism: Error validating form:",t),!1}},window.VB={modals:s,carousels:c,toast:(t,e,s,i)=>d.show(t,e,s,i),snackbar:(t,e,s,i)=>u.show(t,e,s,i),setProgress:(t,e)=>window.VBSetProgress(t,e),validateForm:t=>window.VBValidateForm(t),announce:(e,s)=>t.announce(e,s),Toast:(t,e,s,i)=>d.show(t,e,s,i),Snackbar:(t,e,s,i)=>u.show(t,e,s,i),SetProgress:window.VBSetProgress,ValidateForm:window.VBValidateForm},document.body?(t.createLiveRegion(),console.log("ðŸŽ¨ Vibe Brutalism v2.0.0 initialized with WCAG 2.1 AA compliance!")):(console.warn("Vibe Brutalism: document.body not available. Retrying on DOMContentLoaded..."),document.addEventListener("DOMContentLoaded",()=>{t.createLiveRegion(),console.log("ðŸŽ¨ Vibe Brutalism v2.0.0 initialized with WCAG 2.1 AA compliance!")}))}();
//# sourceMappingURL=vibe-brutalism.min.js.map